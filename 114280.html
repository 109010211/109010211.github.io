<!doctype html>
<html>
  <head>
    <meta charset = "utf-8">
    <title>ç¶²ç«™æ¨™é¡Œ</title>
    <link rel="icon" href="109010211.github.io
/lovepik-cute-flat-icon-design-png-image_400304628_wh1200.png">
  </head>
  <body>
<!DOCTYPE html>
<option value="4" selected>4 ä½æ•¸</option>
<option value="5">5 ä½æ•¸</option>
</select>
</div>
<!-- ç©å®¶è¼¸å…¥ -->
<div class="section">
<label>ç©å®¶çŒœçš„æ•¸å­—ï¼ˆä¸å¯é‡è¤‡ï¼‰</label>
<input type="text" id="guess" placeholder="ä¾‹å¦‚ï¼š1234" />
<button onclick="checkAB()">é€å‡ºçŒœæ¸¬</button>
<div class="result" id="result"></div>
</div>


<!-- çŒœæ¸¬ç´€éŒ„ -->
<div class="section">
<label>çŒœæ¸¬ç´€éŒ„</label>
<div class="history" id="history">å°šæœªé–‹å§‹çŒœæ¸¬</div>
</div>


<!-- ç­†è¨˜å€ -->
<div class="section">
<label>ç©å®¶ç­†è¨˜å€</label>
<textarea placeholder="åœ¨é€™è£¡è¨˜éŒ„ä½ çš„æ¨ç†èˆ‡ç·šç´¢..."></textarea>
</div>


</div>


<script>
function generateAnswer(len) {
let digits = [];
while (digits.length < len) {
let d = Math.floor(Math.random() * 10).toString();
if (!digits.includes(d)) digits.push(d);
}
return digits.join("");
}


let digitCount = 4;
let answer = generateAnswer(digitCount);
let guessCount = 0;


function checkAB() {
const guess = document.getElementById("guess").value;


if (guess.length !== digitCount) {
document.getElementById("result").innerText = `è«‹è¼¸å…¥ ${digitCount} ä½æ•¸å­—`;
return;
}


guessCount++;
let A = 0;
let B = 0;


for (let i = 0; i < digitCount; i++) {
if (guess[i] === answer[i]) {
A++;
} else if (answer.includes(guess[i])) {
B++;
}
}


const resultDiv = document.getElementById("result");
const historyDiv = document.getElementById("history");


if (historyDiv.innerText === "å°šæœªé–‹å§‹çŒœæ¸¬") historyDiv.innerText = "";


historyDiv.innerHTML += `ç¬¬ ${guessCount} æ¬¡ï¼š${guess} â†’ ${A}A ${B}B<br>`;


if (A === digitCount) {
resultDiv.innerText = "Congratulations!! ğŸ‰";
} else {
resultDiv.innerText = `${A}A ${B}B`;
}
}


function restartGame() {
digitCount = parseInt(document.getElementById("digitCount").value);
answer = generateAnswer(digitCount);
guessCount = 0;
document.getElementById("guess").value = "";
document.getElementById("result").innerText = "";
document.getElementById("history").innerText = "å°šæœªé–‹å§‹çŒœæ¸¬";
document.getElementById("guess").placeholder = `ä¾‹å¦‚ï¼š${"12345".slice(0, digitCount)}`;
}
</script>
</body>
</html>
